<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/public/css/styles.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <title>Blog title here </title>
</head>

<body>

    <div class="container p-5">
        <div class="card shadow-lg rounded p-3">
            <div class="row">
                <div class="col-2">

                    <a onclick="history.back()"
                        class="rounded-pill shadow p-2 d-flex align-items-center justify-content-center"
                        style="text-decoration:none;">
                        <i class="material-icons mr-2" style="color:black">arrow_left
                        </i> <span class="" style="color:black">Back</span>
                    </a>
                </div>
                <div class="col-9">
                    <h1 class="text-dark">
                        <%= article.title %>
                    </h1>
                </div>

                <!-- Display more button -->
                <div class="col-1">
                    <div class="more position-relative justify-content-end" style="cursor: pointer;">
                        <i class="material-icons p-2">more_vert</i>
                        <!-- Option list -->
                        <div class="d-none card rounded-lg shadow-sm p-1 position-absolute" style="z-index: 9000;">
                            <a href="../articles/edit/<%= article.id %>"
                                class="rounded-pill p-2 mb-2 d-flex align-items-center" style="background:blue;">
                                <i class="material-icons" style="color:white">create</i>
                            </a>

                            <button data-bs-id="<%= article.id %>" class="rounded-circle p-2 bg-danger"
                                data-bs-title="<%= article.title %>" data-bs-toggle="modal"
                                data-bs-target="#deleteModal">
                                <i class="material-icons" style="color:white">delete
                                </i>
                            </button>
                            <!-- <form id="deleteForm" data-bs-action="../articles/<%= article.id %>?_method=DELETE" action="" method="POST">
                            </form>  -->

                        </div>
                    </div>
                </div>
                <!-- Delete Modal -->
                <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5">Delete <span></span></h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <p>Are you sure you want to permanently remove this post?</p>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <form id="deleteForm" data-bs-action="../articles/" action="" method="POST">
                                    <button type="submit" class="btn btn-danger">Delete</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Posts -->
            <div class="row">
                <div class="col-12 card-img bg-dark bg-gradient">
                    <img src="/public/uploads/images/<%= article.img %>" class="card-img" alt="...">

                </div>
            </div>
            <div class="d-flex align-items-end mt-3">
                <div class="mr-2">
                    <img src="/public/uploads/images/<%= article.img %>" class="rounded-circle"
                        style="width: 60px; height: 60px;">
                </div>
                <div class=" flex-grow-1">
                    <h5 class="text-dark" style="font-size: 16px; line-height: 0.5rem;">
                        <span><b>
                                <%= article.author %>
                            </b></span>
                    </h5>
                    <p style="font-size: 12px; line-height: 0.2rem;" class="text-dark">
                        <%= article.createdAt.toLocaleDateString() %> %>
                    </p>
                </div>

            </div>
            <p class="card-text text-dark">
                <%- article.description %>
            </p>

            <p class="card-text text-dark">
                <%- article.sanitizedHtml %>
            </p>
        </div>
    </div>

    <hr class="bg-secondary m-0">

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <p class="p copyright fst-italic text-muted text-center pt-2 pb-2 m-0">Â© 2022 - Lucila Kim </p>
                </div>
            </div>
        </div>
    </footer>


    <script src="../../public/js/index2.js"></script>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
</body>

</html>